<section class="my-lg-14 my-8">
    <div class="container">
        <div class="row">
            <div class="col-12 col-lg-3 col-md-4 mb-6 mb-md-0">
                <ul class="nav nav-category">
                    <h5 class="mb-3">Categories</h5>
                    <li *ngFor="let item of categories$ | async" class="nav-item border-bottom w-100"><a
                            [routerLink]="'/categories/' + item.id" class="nav-link">{{item.name}}<i
                                class="feather-icon icon-chevron-right"></i></a></li>
                </ul>

            </div>

            <div class="col-12 col-lg-8 col-md-6" *ngIf="productDetails$ | async as product ">

                <section class="my-lg-14 my-8">


                    <section class="mt-8">
                        <div class="container">
                            <div class="row">

                                <div class="col-md-6">

                                    <img [src]="product.imageUrl" [alt]="product.name">
                                </div>
                                <div class="col-md-6">
                                    <div class="ps-lg-10 mt-6 mt-md-0">
                                        <!-- content -->
                                        <a [routerLink]="'/categories/' + product.categoryId"
                                            class="mb-4 d-block">{{product.categoryName}}</a>
                                        <!-- heading -->
                                        <h1 class="mb-1">{{product.name}} </h1>
                                        <div class="mb-4">
                                            <!-- rating -->
                                            <!-- rating -->
                                            <small class="text-warning"> <i
                                                    *ngFor="let val of ratingToStars(product.ratingValue)" class="bi"
                                                    [ngClass]="{'bi-star-fill': val === 1, 'bi-star': val === 0, 'bi-star-half': val === 0.5}"></i>
                                            </small> ({{product.ratingCount}} reviews)
                                        </div>
                                        <div class="fs-4">
                                            <!-- price --><span class="fw-bold text-dark">{{product.price |
                                                currency}}</span> <span
                                                class="text-decoration-line-through text-muted">{{product.priceBeforeDiscount
                                                |
                                                currency}}</span><span><small
                                                    class="fs-6 ms-2 text-danger">{{(product.priceBeforeDiscount-product.price)/product.priceBeforeDiscount
                                                    * 100 | number: '1.1-2'}} %
                                                    Off</small></span>
                                            
                                        </div>
                                        <div class="row mt-8">
                                            <button type="button" class="btn btn-primary btn-lg" (click)="addProductToCart(product)">Add to cart</button>
                                        </div>


                                        <!-- hr -->
                                        <hr class="my-6">
                                        <div>
                                            <!-- table -->
                                            <!-- <table class="table table-borderless mb-0">

                                                <tbody>
                                                    <tr>
                                                        <td>Product Code:</td>
                                                        <td>FBB00255</td>

                                                    </tr>
                                                    <tr>
                                                        <td>Availability:</td>
                                                        <td>In Stock</td>

                                                    </tr>
                                                    <tr>
                                                        <td>Type:</td>
                                                        <td>Fruits</td>

                                                    </tr>
                                                    <tr>
                                                        <td>Shipping:</td>
                                                        <td><small>01 day shipping.<span class="text-muted">( Free
                                                                    pickup today)</span></small></td>

                                                    </tr>


                                                </tbody>
                                            </table> -->

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="my-lg-14 my-14">
                        <div class="container">
                            <!-- row -->
                            <div class="row">
                                <div class="col-12">
                                    <!-- heading -->
                                    <h3>You can find it in </h3>
                                </div>

                                <div class="col-lg-4" *ngFor="let store of product.stores"> <!-- img -->
                                    <img [src]="store.logoUrl" [alt]="store.name" class="card-image rounded-circle">
                                    <!-- text -->
                                    <div class="mt-4">
                                        <h5 class="fs-6 mb-0"> <a class="text-inherit"
                                                [routerLink]="'/stores/' + store.id">{{store.name}}</a></h5>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </section>
                    <!-- section -->
                    <section class="my-lg-14 my-14">
                        <div class="container">
                            <div class="row">
                                <div class="col-12">
                                    <!-- heading -->
                                    <h3>Related products </h3>
                                </div>

                                <div class="col-lg-4" *ngFor="let relatedProduct of product.relatedProducts.slice(0,6)">
                                    <!-- img -->
                                    <img [src]="relatedProduct.imageUrl" [alt]="relatedProduct.name"
                                        class="card-image rounded-circle">
                                    <!-- text -->
                                    <div class="mt-4">
                                        <h5 class="fs-6 mb-0"> <a class="text-inherit"
                                                [routerLink]="'/products/' + relatedProduct.id">{{relatedProduct.name}}</a>
                                        </h5>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </section>



                </section>
            </div>
        </div>
    </div>
</section>